## HTML

### 常用标签

- **基础标签**

| 标签                    | 作用               |
| ----------------------- | ------------------ |
| **\<head>\</herd>**     | **网页头部**       |
| **\<html>\</html>**     | **网页基础**       |
| **\<title>\</title>**   | **网页标题**       |
| **\<body>\</body>**     | **网页主体**       |
| **\<link>\</link>**     | **导入外部资源**   |
| **\<br>\</br>**         | **换行**           |
| **\<hr>\</hr>**         | **分割线**         |
| **\<style>\</style>**   | **CSS样式表**      |
| **\<script>\</script>** | **JavaScript代码** |
| **\<img src=“”/>**      | **图片**           |

- **语义化标签**

<img src="https://www.runoob.com/wp-content/uploads/2013/07/html5-layout.jpg" style="float:left">

| 标签                      | 作用                 |
| ------------------------- | -------------------- |
| **\<header>\</header>**   | **头部区域**         |
| **\<nav>\</nav>**         | **导航区域**         |
| **\<section>\</section>** | **某一个区域**       |
| **\<article>\</article>** | **主体区域**         |
| **\<aside>\</aside>**     | **主体区域之外内容** |
| **\<footer>\</footer>**   | **底部区域**         |

- **文本标签**

| 标签                   | 作用           |
| ---------------------- | -------------- |
| **\<h1>~\</h6>**       | **标题**       |
| **\<p>\</p>**          | **段落**       |
| **\<a href=“#”>\</a>** | **链接**       |
| **\<span>\</span>**    | **单独出来**   |
| **\<pre>\</pre>**      | **预格式文本** |
| **\<div>\</div>**      | **盒子**       |

- **表单标签**

| 标签                              | 作用                   |
| --------------------------------- | ---------------------- |
| **\<button>\</button>**           | **按钮**               |
| **\<from>\</from>**               | **提交表单**           |
| **\<select>\</select>**           | **下拉选择器**         |
| **\<option>\</option>**           | **下拉选择器选项**     |
| **\<textarea>\</textarea>**       | **多行文本输入**       |
| **\<input type=“text”>\</input>** | **单行文本输入**       |
| **\<label>\</label>**             | **`input` 元素的标注** |

- **表格标签**

| 标签                  | 作用                   |
| --------------------- | ---------------------- |
| **\<table>\</table>** | **表格**               |
| **\<tr>\</tr>**       | **表格中的行**         |
| **\<td>\</td>**       | **表格中的单元**       |
| **\<th>\</th>**       | **表格中的表头单元格** |
| **\<thead>\</thead>** | **表格中的表头内容**   |

- **列表**

| 标签            | 作用         |
| --------------- | ------------ |
| **\<ul>\</ul>** | **无须列表** |
| **\<li>\</li>** | **列表内容** |
| **\<ol>\</ol>** | **有序列表** |

### 拖放

- **设置元素为可拖放**

```html
<img draggable="true">
```

- **设置拖放事件**

```javascript
function drag(ev){
    //设置被拖数据的数据类型和值
    ev.dataTransfer.setData("数据类型", 值);
}
```

- **调用事件函数**

```html
<img draggable="true" ondragstart="drag(event)">
```

### 自定义属性

```html
<div id="app" data-age="12" data-sex="男"></div>
<script type="text/javascript">
	var app = document.getElementById("app");
	var data = app.dataset;
	console.log(data);	// age: "12", sex: "男"
</script>
```

### 多媒体

#### 音频\<audio>

```html
<audio controls>
	<source src="index.mp3" type="audio/mpeg">
    <source src="index.ogg" type="audio/ogg">
    <source src="index.wav" type="audio/wav">
</audio>
```

| 属性名       | 属性值             | 功能                             |
| ------------ | ------------------ | -------------------------------- |
| **autoplay** | autoplay           | 音频就绪后马上播放               |
| **controls** | controls           | 显示音频控件,比如播放/暂停按钮   |
| **loop**     | loop               | 音频结束时重新开始播放           |
| **muted**    | muted              | 音频静音播放                     |
| **preload**  | auto/metadata/none | 音频是否默认被加载以及如何被加载 |
| **src**      | URL                | 音频文件的 URL                   |

#### 视频\<video>

```html
<video width="100" height="100" controls>
	<source src="index.mp4" type="video/mp4">
	<source src="index.ogg" type="video/ogg">
    <source src="index.webm" type="video/webm">
</video>
```

| 属性         | 描述                                                                |
| :----------- | :------------------------------------------------------------------ |
| **autoplay** | 是否马上播放                                                        |
| **controls** | 是否显示控件                                                        |
| **loop**     | 是否循环播放                                                        |
| **muted**    | 是否为静音                                                          |
| **preload**  | 在页面加载时进行加载，并预备播放，如果使用 "autoplay"，则忽略该属性 |
| **src**      | 文件 URL                                                            |

### 特殊符号

| 显示结果 | 描述         | 实体名称      |
| :------: | ------------ | ------------- |
|          | **空格**     | **\&nbsp;**   |
|  **<**   | **小于号**   | **\&lt;**     |
|  **>**   | **大于号**   | **\&gt;**    |
|  **&**   | **和号**     | **\&amp;**    |
|  **"**   | **引号**     | **\&quot;**   |
|  **'**   | **撇号**     | **\&apos;**   |
|  **￠**   | **分**       | **\&cent;**   |
|  **£**   | **镑**       | **\&pound;** |
|  **¥**   | **元**       | **\&yen;**    |
|  **€**   | **欧元**     | **\&euro;**   |
|  **§**   | **小节**     | **\&sect;**   |
|  **©**   | **版权**     | **\&copy;**   |
|  **®**   | **注册商标** | **\&reg;**    |
|  **™**   | **商标**     | **\&trade;**  |
|  **×**   | **乘号**     | **\&times;**  |
|  **÷**   | **除号**     | **\&divide;** |

## **CSS**

| 选择器类型   | 写法       | 作用                             |
| ------------ | :--------- | -------------------------------- |
| 类选择器     | **.intro** | 选择**所有 class**="intro"的元素 |
| id 选择器    | **#name**  | 选择**id**="name"的元素,**唯一** |
| 选择所有元素 | **\***     | 选择**所有元素**                 |

| 元素选择器 | 作用                                          |
| ---------- | --------------------------------------------- |
| **p**      | 选择所有**p**元素                             |
| **div,p**  | 选择所有**div**元素和**p**元素                |
| **div p**  | 选择**div**元素内的所有**p**元素              |
| **div>p**  | 选择所有**父级**是**div** 元素的 **p**元素    |
| **div+p**  | 选择所有**紧接着 div**元素**之后**的**p**元素 |
| **p~ul**   | 选择**p**元素**之后**的**每一个 ul**元素      |

| 属性选择器            | 作用                                                      |
| --------------------- | --------------------------------------------------------- |
| **\[target]**         | 选择所有带有**target 属性**元素                           |
| **\[target=\_blank]** | 选择**所有**使用 target="\_blank"的元素                   |
| **\[title~=flower]**  | 选择标题**属性包含**单词"flower"的**所有**元素            |
| **[lang=en]**         | 选择 lang **属性**以 en 为**开头**的**所有元素**          |
| **a[src^="name"]**    | 选择**每一个**src**属性**的值以"name"**开头**的元素       |
| **a[src$=".pdf"]**    | 选择**每一个**src**属性**的值以".pdf"**结尾**的元素       |
| **a[src\*="name"]**   | 选择**每一个**src**属性**的值**包含子字符串**"name"的元素 |

| 伪类选择器              | 作用                                                   |
| ----------------------- | ------------------------------------------------------ |
| **a:link**              | 选择**所有未访问**链接                                 |
| **a:visited**           | 选择**所有访问过**的链接                               |
| **a:active**            | 选择**活动链接**                                       |
| **a:hover**             | 选择**鼠标**在链接**上面**时                           |
| **input:focus**         | 选择具有**焦点**的**input**元素                        |
| **:not(p)**             | 选择**每个非 p**元素的元素                             |
| **p:first-of-type**     | 选择**每个 p 元素**是其**父级**的**第一个**p 元素      |
| **p:last-of-type**      | 选择**每个 p 元素**是其**父级**的**最后一个**p 元素    |
| **p:only-of-type**      | 选择**每个 p 元素**是其**父级**的**唯一**p 元素        |
| **p:only-child**        | 选择**每个 p 元素**是其**父级**的**唯一子**元素        |
| **p:nth-child(n)**      | 选择**每个 p 元素**是其**父级**的**第 n 个子**元素     |
| **p:nth-last-child(n)** | 选择**每个 p 元素**是其**父级**的**倒数第 n 个子**元素 |
| **p:nth-of-type(n)**    | 选择**每个 p 元素**是其**父级**的**第 n 个 p**元素     |

| 伪元素选择器       | 作用                                                    |
| ------------------ | ------------------------------------------------------- |
| **p:first-letter** | 选择**每一个 p**元素的**第一个字母**                    |
| **p:first-line**   | 选择**每一个 p**元素的**第一行**                        |
| **p:first-child**  | 指定只有**当 p 元素**是其**父级**的**第一个子级**的样式 |
| **p:before**       | 在**每个 p**元素**之前插入**内容                        |
| **p:after**        | 在**每个 p**元素**之后插入**内容                        |

| 单位    | 作用                                                         |
| ------- | ------------------------------------------------------------ |
| **px**  | 像素,相对于设备的长度单位，像素是相对于显示器屏幕分辨率而言的 |
| **em**  | 相对长度单位 相对于父元素的大小                              |
| **rem** | 相对长度单位 相对于根元素的大小, 默认 **1rem = 16px**        |
| **ex**  | 相对长度单位 相对于字符“x”的高度此高度通常为字体尺寸的一半   |
| **pt**  | 点，绝对长度单位                                             |
| **pc**  | 派卡，绝对长度单位                                           |
| **in**  | 英寸，绝对长度单位                                           |
| **mm**  | 毫米，绝对长度单位                                           |
| **cm**  | 厘米，绝对长度单位                                           |
| **rpx** | 相对单位 微信小程序中的尺寸单位                              |

- **1in = 2.54cm = 25.4 mm = 72pt = 6pc**

### CSS 选择器优先级

**浏览器默认 < 外部样式表 < 内部样式表 < 内联样式 < !important**

**通配符选择器 < 标签选择器 < 类选择器 < 类派生选择器[^1] < ID选择器 < ID派生选择器[^2]**

**`!important` 优先级最高**

**浏览器默认样式 优先级最低**

[^1]: .div p{}
[^2]: #app div{}

| 选择器                      | 权重     |
| --------------------------- | -------- |
| **内联样式**                | **1000** |
| **id选择器**                | **100**  |
| **class ,伪类 ,属性选择器** | **10**   |
| **标签选择器**              | **1**    |

- **权重越大, 优先级越高, **
- **同级选择器, 后者优先**

- **`!important` 提升指定样式规则的优先级**

```css
.box {	/*显示红色*/
    color: red !important;
    color: blue;
}
```

### 字体图标

- **字体图标就是能够通过==CSS==控制样式的图标**

> #### 用法

```css
/*引入*/
@font-face {
    font-family: "字体图标名";
    src: url('文件路径');
}
/*使用*/
.icon {
    font-family: "字体图标名" !important;
}
```

```html
<span class="字体图标名">&#x33;</span>
```

### CSS  box-shadow 属性

```css
.left {
	box-shadow: 20px 0px 10px 0px rgba(0, 0, 0, 0.5);
}

.right {
	box-shadow: -20px 0px 10px 0px rgba(0, 0, 0, 0.5);
}
```

<img src="https://oscimg.oschina.net/oscnet/4d2a7c846562f69b413e009d107d0ca85e4.jpg" style="float:left;" />

```css
.left {
	box-shadow: 0px 20px 10px 0px rgba(0, 0, 0, 0.5);
}

.right {
	box-shadow: 0px -20px 10px 0px rgba(0, 0, 0, 0.5);
}
```

<img src="https://oscimg.oschina.net/oscnet/3b519c367d067afad6b71da98ee4d1269f1.jpg" style="float:left;" />

```css
.left {
	box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.5);
}

.center {
	box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.5);
}

.right {
	box-shadow: 0px 0px 50px 0px rgba(0, 0, 0, 0.5);
}
```

<img src="https://oscimg.oschina.net/oscnet/2fe2cbfe2175d04e5c700b0290e03cac0c5.jpg" style="float:left;" />

```css
.left {
	box-shadow: 0px 0px 20px 10px rgba(0, 0, 0, 0.5);
}

.right {
	box-shadow: 0px 0px 20px 10px rgba(0, 0, 0, 0.5) inset;
}
```

<img src="https://oscimg.oschina.net/oscnet/55e21e01a8df4436a46770ba968db0a72a3.jpg" style="float:left;" />

### CSS background 属性

- **渐变色**

```css
background: linear-gradient(to left, #ffffff, #000000); /* 从右到左 */
background: linear-gradient(to right, #ffffff, #000000); /* 从左到右 */
background: linear-gradient(to top, #ffffff, #000000); /* 从下到上 */
background: linear-gradient(to bottom, #ffffff, #000000); /* 从上到下 */
background: linear-gradient(to top left, #ffffff, #000000); /* 从右下到左上 */
background: linear-gradient(to bottom left, #ffffff, #000000); /* 从右上到左下 */
background: linear-gradient(to top right, #ffffff, #000000); /* 从左下到右上 */
background: linear-gradient(to bottom right, #ffffff, #000000); /* 从左上到右下 */
background: linear-gradient(0deg, #ffffff, #000000); /* 从底部顺时针旋转,负数是逆时针旋转 */
```

- **背景透明**

```css
background-color: rgba(0, 0, 0, 0);
background-color: transparent;
```

- **背景图片**

```css
background-image: url('图片地址');
background-repeat: repeat-x / repeat-y / no-repeat; /* 平铺 */
background-position: left top; /* 起始位置 */
background-attachment; scroll / local; /* 是否滚动 */
background-size: 100% 100%; /* 图像大小 */
```

### CSS 单行文本溢出显示省略号

```css
.box {
    overflow: hidden;    
	text-overflow: ellipsis;    
	whitewhit-space: nowrap;
}
```

### CSS 多行文本溢出显示省略号

```css
.box {
	width: 500px;
	height: 600px;
	display: -webkit-box;
	overflow: hidden;
	word-break: break-all;
	text-overflow: ellipsis;
	/* autoprefixer: off */
	-webkit-box-orient: vertical;
	/* autoprefixer: on */
	-webkit-line-clamp: 5;
}
```
### 滚动条样式

```html
<body id="scrollBar">
	<div style="width: 100px;height: 2000px;"></div>
</body>
<style>
	/**
	 * 滚动条整体样式
	 * height对应横滚动条尺寸
	 * width对应竖滚动条尺寸
	 */
	#scrollBar::-webkit-scrollbar {
		width: 10px;
		height: 10px;
	}

	/* 滚动条样式 */
	#scrollBar::-webkit-scrollbar-thumb {}

	/* 滚动条轨道样式 */
	#scrollBar::-webkit-scrollbar-track {}
</style>
```

### CSS变量

- **可以减少编写重复代码, 区分大小写**
- **属性名可以包含数字，字母，以及下划线和短横线，也可以是中文，日文或者韩文**

```css
:root {
	--color: #00ffff; /* 自定义属性名 */
}

div {
	color: var(--color, red); /* 使用自定义属性,第二个参数是属性值失效后显示的默认值 */
}
```

- **js获取CSS变量**

```js
let root = document.documentElement;
let value = getComputedStyle(root).getPropertyValue('自定义属性名');	
```

- **js修改CSS变量**

```js
document.documentElement.style.setProperty('自定义属性名', '属性值');
```

### @media 查询

```css
/* 大于600px */
@media screen and (min-width: 600px) {
}

/* 大于300px,小于600px */
@media screen and (min-width: 300px) and (max-width: 600px) {
}

/* 小于300px */
@media screen and (max-width: 300px) {
}
```

#### 媒体类型

| 值     | 描述                               |
| ------ | ---------------------------------- |
| all    | 用于所有设备                       |
| print  | 用于打印机和打印预览               |
| screen | 用于电脑屏幕，平板电脑，智能手机等 |
| speech | 应用于屏幕阅读器等发声设备         |

#### 媒体功能

| 值                      | 描述                                                                            |
| ----------------------- | ------------------------------------------------------------------------------- |
| aspect-ratio            | 定义输出设备中的页面可见区域宽度与高度的比率                                    |
| color                   | 定义输出设备每一组彩色原件的个数。如果不是彩色设备，则值等于0                   |
| color-index             | 定义在输出设备的彩色查询表中的条目数。如果没有使用彩色查询表，则值等于0         |
| device-aspect-ratio     | 定义输出设备的屏幕可见宽度与高度的比率。                                        |
| device-height           | 定义输出设备的屏幕可见高度。                                                    |
| device-width            | 定义输出设备的屏幕可见宽度。                                                    |
| grid                    | 用来查询输出设备是否使用栅格或点阵。                                            |
| height                  | 定义输出设备中的页面可见区域高度。                                              |
| max-aspect-ratio        | 定义输出设备的屏幕可见宽度与高度的最大比率。                                    |
| max-color               | 定义输出设备每一组彩色原件的最大个数。                                          |
| max-color-index         | 定义在输出设备的彩色查询表中的最大条目数。                                      |
| max-device-aspect-ratio | 定义输出设备的屏幕可见宽度与高度的最大比率。                                    |
| max-device-height       | 定义输出设备的屏幕可见的最大高度。                                              |
| max-device-width        | 定义输出设备的屏幕最大可见宽度。                                                |
| max-height              | 定义输出设备中的页面最大可见区域高度。                                          |
| max-monochrome          | 定义在一个单色框架缓冲区中每像素包含的最大单色原件个数。                        |
| max-resolution          | 定义设备的最大分辨率。                                                          |
| max-width               | 定义输出设备中的页面最大可见区域宽度。                                          |
| min-aspect-ratio        | 定义输出设备中的页面可见区域宽度与高度的最小比率。                              |
| min-color               | 定义输出设备每一组彩色原件的最小个数。                                          |
| min-color-index         | 定义在输出设备的彩色查询表中的最小条目数。                                      |
| min-device-aspect-ratio | 定义输出设备的屏幕可见宽度与高度的最小比率。                                    |
| min-device-width        | 定义输出设备的屏幕最小可见宽度。                                                |
| min-device-height       | 定义输出设备的屏幕的最小可见高度。                                              |
| min-height              | 定义输出设备中的页面最小可见区域高度。                                          |
| min-monochrome          | 定义在一个单色框架缓冲区中每像素包含的最小单色原件个数                          |
| min-resolution          | 定义设备的最小分辨率。                                                          |
| min-width               | 定义输出设备中的页面最小可见区域宽度。                                          |
| monochrome              | 定义在一个单色框架缓冲区中每像素包含的单色原件个数。如果不是单色设备，则值等于0 |
| orientation             | 定义输出设备中的页面可见区域高度是否大于或等于宽度。                            |
| resolution              | 定义设备的分辨率。                                                              |
| scan                    | 定义电视类设备的扫描工序。                                                      |
| width                   | 定义输出设备中的页面可见区域宽度。                                              |

## JavaScript

### 注释

- **声明类**

```javascript
/**
 * @class 类名
 * @constructor 非静态类
 * @static 静态类
 */
```

- **声明函数或类方法**

```js
/**
 * @method 方法名
 */
```

- **声明函数参数和返回值**

```js
/**
 * @param {参数类型} 参数名 参数说明
 * @return {返回值类型} 返回值说明
 */
```

- **声明类属性**

```js
/**
 * @property {属性类型} 属性名
 */
```

| 注解                | 作用                           |
| ------------------- | ------------------------------ |
| **@api**            | **提供给第三方使用的接口**     |
| **@author**         | **标明作者**                   |
| **@todo**           | **待办**                       |
| **@version**        | **版本号**                     |
| **@inheritdoc**     | **文档继承**                   |
| **@property**       | **类属性**                     |
| **@property-read**  | **只读属性**                   |
| **@property-write** | **只写属性**                   |
| **@const**          | **常量**                       |
| **@deprecated**     | **过期方法**                   |
| **@example**        | **示例**                       |
| **@final**          | **标识类是终态, 禁止派生**     |
| **@global**         | **指明引用的全局变量**         |
| **@static**         | **标识类、方法、属性是静态的** |
| **@ignore**         | **忽略**                       |
| **@internal**       | **限内部使用**                 |
| **@license**        | **协议**                       |
| **@link**           | **链接,引用文档等**            |
| **@throws**         | **抛出异常**                   |
| **@uses**           | **使用**                       |
| **@var**            | **变量**                       |
| **@copyright**      | **版权声明**                   |

### Window方法

| 方法名                   | 作用                                     |
| ------------------------ | ---------------------------------------- |
| **window.innerHeight**   | 浏览器窗口的内部高度(包括滚动条)         |
| **window.innerWidth**    | 浏览器窗口的内部宽度(包括滚动条)         |
| **window.open()**        | 打开新窗口                               |
| **window.close()**       | 关闭当前窗口                             |
| **window.moveTo()**      | 移动当前窗口                             |
| **window.resizeTo()**    | 调整当前窗口的尺寸                       |
| **screen.availWidth()**  | 可用的屏幕宽度                           |
| **screen.availHeight()** | 可用的屏幕高度                           |
| **location.hostname()**  | 返回 web 主机的域名                      |
| **location.pathname()**  | 返回当前页面的路径和文件名               |
| **location.port()**      | 返回 web 主机的端口(80 或 443)           |
| **location.protocol()**  | 返回所使用的 web 协议 ( http 或  https ) |
| **location.href()**      | 返回当前页面的 URL                       |
| **location.assign()**    | 加载新的文档                             |
| **history.back()**       | 返回上一页                               |
| **history.forward()**    | 跳到下一页                               |

| 计时事件            | 作用                                        |
| ------------------- | ------------------------------------------- |
| **setInterval()**   | 间隔指定的毫秒数不停地执行指定的代码        |
| **setTimeout()**    | 在指定的毫秒数后执行指定代码                |
| **clearInterval()** | 用于停止 `setInterval()` 方法执行的函数代码 |
| **clearTimeout()**  | 用于停止执行 `setTimeout()` 方法的函数代码  |

**`let` 和 `const`**

```javascript
let a = value; //定义的局部变量
const b = value; //定义的只读常量
```

### `this`关键字

- 在**方法**中 `this` 表示**该方法所属**的对象
- 单独使用 `this` 表示**全局对象**
- 在**函数**中 `this` 表示**全局对象**
- 在**函数**中在严格模式下,`this` 是未定义的
- 在**事件**中this 表示**接收事件**的元素

### 输出

| 方法名                         | 作用                             |
| ------------------------------ | -------------------------------- |
| **alert()**                    | 弹出警告框(只有"确定"按钮)       |
| **confirm()**                  | 弹出确认框(有"确定"和"取消"按钮) |
| **prompt("提示值", "默认值")** | 弹出输入框(有输入框)             |
| **document.write()**           | 方法将内容写到 HTML 文档中       |
| **innerHTML**                  | 写入到 HTML 元素                 |
| **console.log()**              | 写入控制台信息                   |
| **console.warn()**             | 控制台输出警告信息               |
| **console.error()**            | 控制台输出错误信息               |
| **console.group()**            | 将显示的信息分组                 |
| **console.groupEnd()**         | 结束信息分组                     |

- **代码执行时间获取**

```js
console.time("str")  //开始
console.timeEnd("str") //结束
```

### 数学函数

| 函数名           | 作用                                                    |
| ---------------- | ------------------------------------------------------- |
| abs(x)           | 返回 x 的绝对值, \|x\|                                  |
| acos(x)          | 返回 x 的反余弦值                                       |
| asin(x)          | 返回 x 的反正弦值                                       |
| atan(x)          | 返回 x 的反正切值                                       |
| atan2(y,x)       | 返回从 x 轴到点 (x,y) 的角度于 -PI/2 与 PI/2 弧度之间） |
| ceil(x)          | 对数进行上舍入                                          |
| cos(x)           | 返回数的余弦                                            |
| exp(x)           | 返回 x 的指数, **e^x^**                                 |
| floor(x)         | 对 x 进行下舍入                                         |
| log(x)           | 返回数的自然对数（底为 e）,**log~e~x**                  |
| max(x,y,z,...,n) | 返回 x,y,z,...,n 中的最高值                             |
| min(x,y,z,...,n) | 返回 x,y,z,...,n 中的最低值                             |
| pow(x,y)         | 返回 x 的 y 次幂,  **x^y^**                             |
| random()         | 返回 0 ~ 1 之间的随机数                                 |
| round(x)         | 四舍五入                                                |
| sin(x)           | 返回数的正弦                                            |
| sqrt(x)          | 返回数的平方根, **$ \sqrt{x}$**                         |
| tan(x)           | 返回角的正切                                            |

- **自然常数	e = 2.718281828459045…**

### 节点

| 方法名                   | 作用                                         |
| ------------------------ | -------------------------------------------- |
| getElementById()         | 返回带有指定 id 的元素                       |
| getElementsByTagName()   | 返回包含带有指定标签名称的所有元素的节点列表 |
| getElementsByClassName() | 返回包含带有指定类名的所有元素的节点列表     |
| replaceChild()           | 替换子节点                                   |
| getAttribute()           | 返回指定的属性值                             |
| setAttribute()           | 把指定属性设置或修改为指定的值               |
| createAttribute()        | 创建属性节点                                 |
| createElement()          | 创建元素节点                                 |
| createTextNode()         | 创建文本节点                                 |
| appendChild()            | 把新的子节点添加到指定节点                   |
| insertBefore()           | 在指定的子节点前面插入新的子节点             |
| removeChild()            | 删除节点                                     |

### DOM 事件

| 鼠标事件      | 作用                                   |
| ------------- | -------------------------------------- |
| onclick       | 当用户点击某个对象时调用的事件句柄     |
| oncontextmenu | 在用户点击鼠标右键打开上下文菜单时触发 |
| ondblclick    | 当用户双击某个对象时调用的事件句柄     |
| onmousedown   | 鼠标按钮被按下                         |
| onmouseenter  | 当鼠标指针移动到元素上时触发           |
| onmouseleave  | 当鼠标指针移出元素时触发               |
| onmousemove   | 鼠标被移动                             |
| onmouseover   | 鼠标移到某元素之上                     |
| onmouseout    | 鼠标从某元素移开                       |
| onmouseup     | 鼠标按键被松开                         |

| 键盘事件   | 作用                     |
| ---------- | ------------------------ |
| onkeydown  | 某个键盘按键被按下       |
| onkeypress | 某个键盘按键被按下并松开 |
| onkeyup    | 某个键盘按键被松开       |

| 剪贴板事件 | 作用                     |
| ---------- | ------------------------ |
| oncopy     | 在用户拷贝元素内容时触发 |
| oncut      | 在用户剪切元素内容时触发 |
| onpaste    | 在用户粘贴元素内容时触发 |

| 表单事件   | 作用                             |
| ---------- | -------------------------------- |
| onblur     | 元素失去焦点时触发               |
| onchange   | 该事件在表单元素的内容改变时触发 |
| onfocus    | 元素获取焦点时触发               |
| onfocusin  | 元素即将获取焦点时触发           |
| onfocusout | 元素即将失去焦点时触发           |
| oninput    | 元素获取用户输入时触发           |
| onreset    | 表单重置时触发                   |
| onsearch   | 用户向搜索域输入文本时触发       |
| onselect   | 用户选取文本时触发               |
| onsubmit   | 表单提交时触发                   |

### 表单

#### 表单验证

- **数据验证**
  - **必需字段是否有输入**
  - **用户是否输入了合法的数据**
  - **在数字字段是否输入了文本**
- **服务端数据验证**是在数据==提交到服务器上后==再验证。
- **客户端数据验证**是在数据==发送到服务器前==，在浏览器上完成验证。

> **约束验证**

| 输入类型       | 描述     |
| :------------- | :------- |
| text           | 字符串   |
| number         | 数字     |
| date           | 时间     |
| color          | 颜色     |
| email          | 电子邮件 |
| mouth          |          |
| range          | 滑动条   |
| datetime-local |          |

| 属性      | 描述                       |
| :-------- | :------------------------- |
| disabled  | 规定输入字段是禁用的       |
| max       | 规定允许的最大值           |
| maxlength | 规定输入字段的最大字符长度 |
| min       | 规定允许的最小值           |
| pattern   | 规定用于验证输入字段的模式 |
| readonly  | 规定输入字段的值无法修改   |
| required  | 规定输入字段的值是必需的   |
| size      | 规定输入字段中的可见字符数 |
| step      | 规定输入字段的合法数字间隔 |
| value     | 规定输入字段的默认值       |

- **验证API**

  > **checkValidity()				数据合法返回 true，否则返回 false**
  >
  > **setCustomValidity()	  自定义错误提示信息**

### 正则表达式

- **exec() 方法**

  > **检索字符串中的正则表达式是否有匹配的**
  >
  > **有 返回该匹配值  	否则返回 `null`**

- **test() 方法**

  > **检测一个字符串是否匹配某个模式.**
  >
  > **匹配返回 `true` ，否则返回  `false`**

- **toString() 方法**

  > **返回正则表达式的字符串值**

- **正则表达式验证**

```javascript
function flag() {
	let str = "字符串";
	const reg = /^正则表达式$/;
    //判断是否符合
	return reg.test(str);
}
```

### 保留 n 位小数

```js
/**
 * @param {float} value 小数
 * @param {int} n 保留位数
 */
function roundFun(value, n) {
	return Math.round(value * Math.pow(10, n)) / Math.pow(10, n);
}
```

### 数字补零

```js
/**
 * @param {int} num 数值
 * @param {int} len 总位数
 */
function numLen(num, len) {
	return (Array(len).join('0') + num).slice(-len);
}
numLen(123, 5);  // '00123'
```

### 去除富文本中的标签

```js
/**
 * @method 去除所有HTML标签
 * @param {string} str 富文本字符串
 */
function removeTag(str) {
	str = str.replace(/(\n)/g, "");
	str = str.replace(/(\t)/g, "");
	str = str.replace(/(\r)/g, "");
	str = str.replace(/<\/?[^>]*>/g, "");
	str = str.replace(/\s*/g, "");
	return str;
};
```

### 比较两个数组的关系

**`var arr1 = [1, 2, 3, 4, 5];`**

**`var arr2 = [3, 4, 5, 6, 7];`**

**`var arr3 = [2, 4, 1, 3, 5];`**

- **排序**

```js
arr3.sort(); //升序 arr3 = [1, 2, 3, 4, 5]
arr3.reverse(); //降序 arr3 = [5, 4, 3, 2, 1]
```

- **交集**

```js
//arr1 和 arr2的交集
arr1.filter((val) => {	//[3, 4, 5]
	return arr2.indexOf(val) > -1;
})
```

- **补集**

```js
//arr1 和 arr2的补集
arr1.filter((val) => {  //[1, 2, 6, 7]
	return !(arr2.indexOf(val) > -1);
}).concat(arr2.filter((val) => {
	return !(arr1.indexOf(val) > -1);
}))
```

- **并集**

```js
//arr1 和 arr2的并集
arr1.concat(arr2.filter((val) => {  //[1, 2, 3, 4, 5, 6, 7]
	return arr1.indexOf(val) == -1;
}))
```

- **合并两个数组**

```js
let arr = arr1.concat(arr2); // arr = [1, 2, 3, 4, 5, 6, 7]
let arr = [...arr1, ...arr2];
let arr = [...new Set([...arr1, ...arr2])]; //去重合并
```

### 数组操作

- **遍历数组**

```js
//普通循环
for (let j = 0; j < arr.length; j++) {}
//优化普通循环 (效率最高)
for (let j = 0, len = arr.length; j < len; j++) {}
//Array自带循环
arr.forEach((val, index) => {})
//map
arr.map((val, index) => {})
//for-of
for (let i of arr) {}
```

- **添加元素到首位**

```javascript
arr.unshift();
```

- **添加元素到最后**

```javascript
arr.push();
```

- **删除第一个**

```javascript
arr.shift();
```

- **删除最后一个**

```javascript
arr.pop();
```

- **删除数组第 n 个后面 m 个元素**

```javascript
arr.splice(n - 1, m);
```

- **反转数组**

```js
arr.reverse();
```

- **获取第 n 个到第 m 个元素**

```js
arr.slice(n - 1, m);
```

- **数组去重**

```js
...new Set(arr);
```

### 字符串操作

- **截取 n ~ m 位的字符**

```js
str.slice(n - 1, m);
str.slice(n - 1); //截取 n 位之后的所有字符
```

- **截取 n 位之后 len 个的字符**

```js
str.substr(n - 1, len);
```

- **截取指定字符之间的内容**

```js
str.match(/开始字符(\S*)结束字符/)[1];
str.match(/字符(\S*)/)[1]; //截取指定字符之后的内容
str.match(/(\S*)字符/)[1]; //截取指定字符之前的内容
```

- **删除指定字符**

```js
let reg = '要删除的字符';
str.replace(reg, ""); //删除字符串中首次出现的字符
let reg = new RegExp("要删除的字符", "g"); //删除字符串中所有对应字符
str.replace(reg, "");
```

- **删除下标为 n 的字符**

```js
str.slice(0, n) + str.slice(n +1);
```

- **替换指定字符**

```js
let reg = '原字符';
str.replace(reg, "新字符"); //替换字符串中首次出现的字符
let reg = new RegExp("原字符", "g"); //替换字符串中所有对应字符
str.replace(reg, "新字符");
```

### 对象操作

- **遍历对象**

```js
//普通循环
for (let j in obj) {
    console.log(j); //获取 key
    console.log(obj[j]); //获取 value
}
//自带循环
Object.getOwnPropertyNames(obj).forEach((key, val) => {})
//枚举
Object.keys(obj);  //获取所有 key
Object.values(obj);//获取所有 value
```

- **对象去重**

```js
//两个对象完全相同时
function unique(obj) {
	let uniques = [];
	let stringify = {};
	for (let i = 0, len = obj.length; i < len; i++) {
		let keys = Object.keys(obj[i]);
		keys.sort((a, b) => {
			return (Number(a) - Number(b));
		});
		let str = '';
		for (let j = 0; j < keys.length; j++) {
			str += JSON.stringify(keys[j]);
			str += JSON.stringify(obj[i][keys[j]]);
		}
		if (!stringify.hasOwnProperty(str)) {
			uniques.push(obj[i]);
			stringify[str] = true;
		}
	}
	uniques = uniques;
	return uniques;
}

//两个对象的某一个key值相同时
function unique(obj) {
	let hash = {};
	let newArr = obj.reduce((item, next) => {
		hash[next.key名] ? '' : hash[next.key名] = true && item.push(next);
		return item;
	}, []);
	return newArr;
}
```

- **判断是否存在某属性**

```js
if (i in obj) {
    let item = obj[i];
}
```

### 随机数

| 方法         | 描述                          |
| :----------- | :---------------------------- |
| **ceil(x)**  | **向上取整**                  |
| **floor(x)** | **对向下取整**                |
| **round(x)** | **四舍五入**                  |
| **random()** | **返回 [0 , 1) 之间的随机数** |

- **生成 0 到 n 之间的数**

```js
//[0,n]
Math.random() * (n + 1);
//[0,n)
Math.random() * n;
//(0,n)
Math.random() * (n - 1) + 1;
//(0,n]
Math.random() * n + 1;
```

- **生成 1 到 n 之间的数**

```js
//[1,n]
Math.random() * n + 1;
//[1,n)
Math.random() * (n - 1) + 1;
//(1,n)
Math.random() * (n - 2) + 2;
//(1,n]
Math.random() * (n - 1) + 2;
```

- **生成 [min , max] 之间的数**

```javascript
// 生成 [min , max] 之间随机数
Math.random() * (max - min + 1) + min;
// 生成 [min , max] 之间整数
Math.floor(Math.random() * (max - min + 1) + min);
```

- **生成 [min , max) 之间数**

```javascript
Math.random() * (max - min) + min;
```

- **生成 (min , max] 之间的数**

```javascript
Math.random() * (max - min) + min + 1;
```

- **生成 (min , max) 之间的数**

```javascript
Math.random() * (max - min - 1) + min + 1;
```

- **生成 (n , m) 之间的数 (n为负数,且 `-n` = `m`)**

```js
Math.random() * 2 * m + n;
```

- **生成 (n , m) 之间的数 (n为负数,且 `-n`≒ `m`)**

```js
Math.random() * (m + 1) + n;
```

- **生成不重复的随机数组**

```js
/**
 * @param {int} min 随机数最小值
 * @param {int} max 随机数最大值
 * @param {int} len 数组长度
 * @return {Array} arr 随机数组
 */
function randomNum(min, max, len) {
	let arr = [];
	while (true) {
		let isExists = false;
		let random = Math.floor(Math.random() * (max + 1 - min) + min);
		for (let i = 0; i < arr.length; i++) {
			if (random == arr[i]) {
				isExists = true;
				break;
			}
		}
		if (!isExists) {
			arr.push(random);
		}
		if (arr.length == len) {
			break;
		}
	}
	return arr;
}
```

### 时间获取

```js
var date = new Date();  
date.getYear(); 		//获取当前年份(2位)
date.getFullYear(); 	//获取完整的年份(4位)
date.getMonth() + 1; 	//获取当前月份(1-12)
date.getDate(); 		//获取当前日(1-31)
date.getDay(); 			//获取当前星期(0-6,0代表星期天)
date.getTime(); 		//获取当前时间(从1970.1.1开始的毫秒数)
date.getHours(); 		//获取当前小时数(0-23)
date.getMinutes(); 		//获取当前分钟数(0-59)
date.getSeconds(); 		//获取当前秒数(0-59)
date.getMilliseconds(); //获取当前毫秒数(0-999)
date.toLocaleDateString(); //获取当前日期
date.toLocaleTimeString(); //获取当前时间
date.toLocaleString();  //获取日期与时间
```

### 时间段获取

```js
new Date(new Date(new Date().toLocaleDateString()).getTime()); //当天0点时分
new Date(new Date(new Date().toLocaleDateString()).getTime() + 24 * 60 * 60 * 1000 - 1);  //当天23点59分59秒
new Date(new Date(new Date().toLocaleDateString()).getTime() - 24 * 60 * 60 * 1000 * n);  // n 天前0点时分
new Date(new Date(new Date().toLocaleDateString()).getTime() + 24 * 60 * 60 * 1000 * n);  // n 天后0点时分
new Date(new Date().getTime() + 24 * 60 * 60 * 1000 * n); // n 天后的当前时间
new Date(new Date().getTime() - 24 * 60 * 60 * 1000 * n); // n 天前的当前时间
//当天的 hour 时 minute 分 second 秒
new Date(new Date(new Date().toLocaleDateString()).getTime() + hour * 3600000 + minute * 60000 + second * 1000);
```

### 计算时间差

```js
var start = '2022-01-01 00:00:00'; //开始时间  
var end = new Date(); //结束时间
var date = end.getTime() - new Date(start).getTime();
//计算出相差天数  
var days = Math.floor(date / (24 * 3600 * 1000));
//计算出小时数  
var leave1 = date % (24 * 3600 * 1000); //计算天数后剩余的毫秒数  
var hours = Math.floor(leave1 / (3600 * 1000));
//计算相差分钟数  
var leave2 = leave1 % (3600 * 1000); //计算小时数后剩余的毫秒数  
var minutes = Math.floor(leave2 / (60 * 1000));
//计算相差秒数  
var leave3 = leave2 % (60 * 1000); //计算分钟数后剩余的毫秒数  
var seconds = Math.round(leave3 / 1000);
console.log("相差" + days + "天" + hours + "小时" + minutes + "分钟" + seconds + "秒");
```

### 时间格式转换

```js
//是否补0
MakeUp(times){
    times = times < 10 ? `0${times}` : times;
	return times;
}
//星期格式化
weekFormat(week) {
	let weekList = ['日', '一', '二', '三', '四', '五', '六'];
	return `星期${weekList[week]}`;
}

//星期格式化(日本)
weekFormat(week) {
	let weekList = ['日', '月', '水', '火', '木', '金', '土'];
	return `${weekList[week]}曜日`;
}

FormatDate(date) {
	let year = date.getFullYear(); //年
	let month = MakeUp(date.getMonth() + 1); //月
	let day = MakeUp(date.getDate()); //日
	let week = weekFormat(date.getDay()); //星期
	let hour = MakeUp(date.getHours()); //小时
	let minute = MakeUp(date.getMinutes()); //分钟
	let second = MakeUp(date.getSeconds()); //秒
    
	let str = `${year}-${month}-${day} ${hour}:${minute}:${second} ${week}`;
	return str;
}

var date = new Date();
FormatDate(date);	// '2021-06-07 15:00:00 星期一'
```

### 时间戳和日期转换

```javascript
//时间戳转日期
/**
 * fmt: 时间格式
 * yyyy-MM-dd hh:mm:ss
 * yyyy/MM/dd hh:mm:ss
 * yyyy年MM月dd日 hh时mm分ss秒
 */
FormatDateFil(fmt, time) {
	time = time * 1000;
	let date = new Date(time);
	if (/(y+)/.test(fmt)) {
		fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));
	}
	let o = {
		'M+': date.getMonth() + 1,
		'd+': date.getDate(),
		'h+': date.getHours(),
		'm+': date.getMinutes(),
		's+': date.getSeconds()
	};
	for (let k in o) {
		if (new RegExp(`(${k})`).test(fmt)) {
			let str = o[k] + '';
			fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : ('00' + str).substr(str.length));
		}
	}
	return fmt;
};
//日期转时间戳
var times = '2021-05-29 18:00:00';
formatDate(times) {
    return new Date(times).getTime();
}
```

### 判断星期几的天数

```js
/**
 * @method 获取每个月的总天数
 * @param {string} dates q
 */
function getMonthLength(dates) {
	let date = new Date(dates);
	date.setMonth(date.getMonth() + 1);
	date.setDate('1');
	date.setDate(date.getDate() - 1);
	return date.getDate();
}
/**
 * @method 计算一年有多少个星期几
 * @param {number} year 年份
 * @param {number} weekday 星期
 */
function getWeekDays(year, weekday) {
	let count = 0;
	for (let i = 1; i <= 12; i++) {
		let days = getMonthLength(`${year}-${i}-01`);
		for (let j = 1; j <= days; j++) {
			if (new Date(`${year}-${i}-${j}`).getDay() === weekday) {
				count++;
				console.log(`${year}-${i}-${j}`);
			}
		}
	}
	let weekList = ['日', '一', '二', '三', '四', '五', '六'];
	console.log('星期' + weekList[weekday] + '共' + count + '天');
}
```

### 判断是否有值

- **`value` 是否为 `null`, `“”`, `undefined`**

```js
if (value != null && value != undefined && value != '') {
	return true;
} else {
	return false;
}
//等于
if ((value ?? '') !== '') {
	return true;
} else {
	return false;
}
```

### 判断是否在范围内

```js
let arr = [1, 2, 3, 4];
let type = 0;
//判断 type 是否在 arr] 内
if (arr.includes(type)) {
	return true;
}
```

### 计算年龄

```js
function getAge(strBirthday) {
	let returnAge;
	let strBirthdayArr = strBirthday.split("-");
	let birthYear = strBirthdayArr[0];
	let birthMonth = strBirthdayArr[1];
	let birthDay = strBirthdayArr[2];
	let d = new Date();
	let nowYear = d.getFullYear();
	let nowMonth = d.getMonth() + 1;
	let nowDay = d.getDate();
	if (nowYear == birthYear) {
		returnAge = 0;
	} else {
		let ageDiff = nowYear - birthYear;
		if (ageDiff > 0) {
			if (nowMonth == birthMonth) {
				let dayDiff = nowDay - birthDay;
				if (dayDiff < 0) {
					returnAge = ageDiff - 1;
				} else {
					returnAge = ageDiff;
				}
			} else {
				let monthDiff = nowMonth - birthMonth;
				if (monthDiff < 0) {
					returnAge = ageDiff - 1;
				} else {
					returnAge = ageDiff;
				}
			}
		} else {
			returnAge = -1;
		}
	}
	return returnAge;
}
let date = '2000-01-01';
let age = getAge(date);
```

### 格式转换

- **判断数据类型**

```js
typeof(data); //判断 String, number, function 类型
data.constructor === Array   //判断是否为 数组
data.constructor === Object  //判断是否为 对象
```

- **`str` 转 `arr`**

```js
var str = 'a, b, c, d';
var arr = str.split(",");	// arr = [a, b, c, d]
var str = '[1,2,3,4]';
var arr = JSON.parse(str);  // arr = [a, b, c, d]
```

- **`arr` 转 `str`**

```js
var arr = [1, 2, 3, 4];
var str = arr.toString();  // str = '1,2,3,4'
var str = JSON.stringify(str);  // str = '[1,2,3,4]'
```

- **`str` 转 数字**

```js
var str = '3.14';
var IntNum = parseInt(str); //IntNum = 3
var FloatNum = parseFloat(str); //FloatNum = 3.14
```

- **数字 转 `str`**

```js
var num = 3.14;
var numStr = num.toString(); //numStr = '3.14'
```

- **`str` 转 ` json`**

```js
var str = '{name:"name"}';
var jsonStr = eval('(' + str + ')'); //jsonStr = {name:"name"}
```

- **`json` 转 `str`**

```js
var str = {name: "names", age: 20};
var jsonStr = JSON.stringify(str);	//jsonStr = '{name: "names", age: 20}'
```

- **`arr` 转 `obj`**

```js
var arr =  [
	{ name: "name1", value: "1"},
	{ name: "name2", value: "2"},
	{ name: "name3", value: "3"}
];
var obj = {};
for (let item in arr){	//obj = { name1: '1', name2: '2', name3: '3' }
	obj[arr[item].name] = arr[item].value;
};
```

- **`obj` 转 `arr`**

```js
var obj = { name:  "name1",  age:  20};
var arr = [];
for (let item in obj){	//arr = [ 'name1', 20 ]
	arr.push(obj[item]);
};
for (l item in obj){	//arr = [ 'name', 'age' ]
    arr.push(item);
};
```

- **`URI` 格式转换**

```js
var url = 'http://www.baidu.com?name=张三&time=2021-10-01 20:00:00';
url = encodeURI(url); //URI编码
url = decodeURI(url); //URI解码
```

### `arguments` 对象

- **作用:  表示函数的实参集合**

```js
//遍历实参
function Func() {
	var len = arguments.length; //参数数量
	for (var i = 0; i < len; i++) {
		console.log(arguments[i]);
	}
}
Func(1, 2, 3); // 1, 2, 3
//修改实参的值
function Func() {
	var len = arguments.length;
	for (var i = 0; i < len; i++) {
		arguments[i] = i; //修改实参的值
		console.log(arguments[i]);
	}
}
Func(4, 2, 3); // 0, 1, 2
```

### 获取网页窗口大小

```javascript
document.body.clientWidth  //网页可见区域宽
document.body.clientHeight //网页可见区域高
document.body.offsetWidth  //网页可见区域宽(包括边线的宽)
document.body.offsetHeight //网页可见区域高(包括边线的宽) 
document.body.scrollWidth  //网页正文全文宽
document.body.scrollHeight //网页正文全文高
document.body.scrollTop    //网页被卷去的高
document.body.scrollLeft   //网页被卷去的左
window.screenTop           //网页正文部分上
window.screenLeft          //网页正文部分左
window.screen.height       //屏幕分辨率的高
window.screen.width        //屏幕分辨率的宽
window.screen.availHeight  //屏幕可用工作区高度
window.screen.availWidth   //屏幕可用工作区宽度
```

### Promise 对象

**对象的状态不受外界影响。Promise 对象代表一个`异步操作`，有三种状态**

- **pending     初始状态** 
- **fulfilled      操作成功完成**
- **rejected     操作失败**

**创建一个 Promise 对象**

- **resolve    成功回调函数**
- **reject       失败回调函数**

```js
function Promises() {
	return new Promise((resolve, reject) => {
		let res = 'data';
		let err = 'error';
		if (true) {
			resolve(res);
		} else {
			reject(err);
		}
	})
}
```

**获取回调函数**

```js
Promises().then(res => { //成功
	console.log(res);	
}).catch(err => {	//失败
	console.log(err);
})
```

### `${}` 获取变量值

```js
let str = 'srting';
console.log(`str: ${str}`);
```

### 深浅拷贝

- **深拷贝**

```js
let obj1 = { a: 1, b: 2 };
let obj2 = JSON.parse(JSON.stringify(obj1));
console.log(obj2);　// obj2 = { a: 1, b: 2 }
obj2.a = 0;
console.log(obj2);　// obj2 = { a: 0, b: 2 }
```

- **浅拷贝**

1. **一个新的对象对原始对象的属性值进行精确地拷贝**
2. **如果拷贝的是基本数据类型，拷贝的就是基本数据类型的值；**
3. **如果拷贝的是引用数据类型，拷贝的就是内存地址。**
4. **如果其中一个对象的引用内存地址发生改变，另一个对象也会发生变化。**

```js
let a = 1;
console.log(a); // a = 1
a = 2;
console.log(a); // a = 2

let obj1 = { a: 1 };
let obj2 = { b: 3 };
Object.assign(obj1, obj2);
console.log(obj1.b); // 2
obj2.b = 2;
console.log(obj1.b); // 2
```

## Cookie

### cookie 是以==键值对==的方式存储在==浏览器==上的数据

- **写入 Cookie**

```js
function setCookie(name, value, date) {
	let exp = new Date();
	exp.setTime(exp.getTime() + date * 24 * 60 * 60 * 1000);
	document.cookie = name + "=" + encodeURIComponent(value) + ";expires=" + exp.toUTCString();
}
```

- **读取 Cookie**

```js
function getCookie(name) {
	let arr = document.cookie.match(new RegExp("(^| )" + name + "=([^;]*)(;|$)"));
	if (arr != null) {
		return decodeURIComponent(arr[2]);
	}
	return null;
}
```
- **删除 Cookie**

```js
function delCookie(name) {
	let exp = new Date();
	exp.setTime(exp.getTime() - 1);
	let cval = getCookie(name);
	if (cval != null) {
        document.cookie = name + "=" + cval + ";expires=" + exp.toGMTString();
    }
}
```

## WebSocket

- **作用: 实时传递数据**
- **一个页面一般只建立一个WebSocket连接**

| 事件        | 事件处理程序     | 描述                 |
| :---------- | :--------------- | :------------------- |
| **open**    | socket.onopen    | 连接建立             |
| **message** | socket.onmessage | 客户端接收服务端数据 |
| **error**   | socket.onerror   | 通信发生错误         |
| **close**   | socket.onclose   | 连接关闭             |

| 方法           | 描述             |
| :------------- | :--------------- |
| socket.send()  | 使用连接发送数据 |
| socket.close() | 关闭连接         |

### Websocket 封装

- **websocket.js**

```js
let websock = null;
let messageCallback = null;
let errorCallback = null;
let tryTime = 0;
//初始化weosocket
function initWebSocket() {
	if (typeof(WebSocket) === 'undefined') {
		console.error('您的浏览器不支持WebSocket');
		return false;
	}
	//ws请求地址
	const baseUrl = 'ws://192.168.1.1/';
	websock = new WebSocket(baseUrl);
	websock.onmessage = (e) => {
		websocketonmessage(e);
	}
	websock.onopen = () => {
		console.log('ws连接成功');
	}
	websock.onerror = () => {
		errorCallback();
	}
	websock.onclose = (e) => {
		websocketclose(e);
	}
}
//接收ws后端返回的数据
function websocketonmessage(e) {
    let data = eval('(' + e.data + ')');
	messageCallback(data);
}
/**
 * 发起websocket连接
 * @param {Object} agentData 需要向后台传递的参数数据
 */
function websocketSend(agentData) {
	setTimeout(() => {
		if (websock.readyState === websock.OPEN) {
			websock.send(JSON.stringify(agentData))
		}
		if (websock.readyState === websock.CLOSED) {
			console.error('ws连接异常');
			errorCallback();
		}
	}, 500);
}
//关闭ws连接
function websocketclose(e) {
	if (e && e.code !== 1000) {
		console.error('ws连接异常');
		errorCallback();
		if (tryTime < 10) {
			setTimeout(() => {
				websock = null;
				tryTime++;
				initWebSocket();
				console.log(`第${tryTime}次重连`);
			}, 3000);
		} else {
			console.error('重连失败');
		}
	}
}
/**
 * 发起websocket请求函数
 * @param {Object} agentData 传给后台的参数
 * @param {function} successCallback 接收到ws数据，对数据进行处理的回调函数
 * @param {function} errCallback ws连接错误的回调函数
 */
export function sendWebsocket(agentData, successCallback, errCallback) {
	initWebSocket();
	messageCallback = successCallback;
	errorCallback = errCallback;
	websocketSend(agentData);
}
/**
 * 关闭websocket函数
 */
export function closeWebsocket() {
	if (websock) {
		websock.close(); //关闭websocket
		websock.onclose(); //关闭websocket
	}
}
```

- **`Vue`页面引用**

```js
import { sendWebsocket, closeWebsocket } from '@/websocket.js';

export default {
	data() {
		return {
            
		}
	},
	mounted() {
		this.requstWs();
	},
	methods: {
		//获取返回数据
		getInfo(data) {
			console.log(data);
		},
		//连接失败回调
		wsError() {
			console.log('连接失败');
		},
		requstWs() {
			//关闭之前ws连接
			closeWebsocket();
			//发起ws请求
			sendWebsocket({}, this.getInfo, this.wsError);
		}
	},
    beforeDestroy() {
		//页面销毁时关闭ws
		closeWebsocket();
	}
}
```

- **`React`页面引用**

```jsx
import React, { Component } from 'react';
import { sendWebsocket, closeWebsocket } from '@/websocket';

class App extends Component {
    constructor(props) {
        super(props)
        this.state = {}
    }
    
    componentDidMount() {
        this.requstWs();
    }
    
     //连接websocket
    requstWs = () => {
        closeWebsocket();
        sendWebsocket(this.getInfos, this.wsError);
    }
    
    //获取WS返回数据
    getInfos = (data) => {
        console.log(data);
    }
    
    //连接失败回调
    wsError = () => {
        console.log('连接失败');
    }
    
    render() {
        return (
            <div></div>
        )
    }
    
    componentWillUnmount() {
        //页面销毁时关闭ws
		closeWebsocket();
    }
}

export default App;
```


## Ajax

- **AJAX 是一种在无需重新加载整个网页的情况下,能够更新部分网页的技术。**

>  **loadXMLDoc()** 函数和**==服务器==**进行交互
>
> **showCustomer()** 函数与**==数据库==**进行动态通信

- 创建 **XMLHttpRequest** 对象

```javascript
var xhr = new XMLHttpRequest();
```

- **GET**和**POST**请求

```javascript
//请求
xhr.open("请求类型", "文件位置", true);

//向请求添加 HTTP 头
xmlhttp.setRequestHeader("头的名称", "头的值");

//发送请求
xhr.send();
```

- **responseText** 和 **responseXML**响应

```javascript
//获得字符串形式的响应数据
document.getElementById("name").innerHTML = xhr.responseText;

xhr.responseXML
```

- **onreadystatechange** 事件

```javascript
xhr.onreadystatechange = function () {
	if (xhr.readyState == 4 && xhr.status == 200) {
    	document.getElementById("name").innerHTML = xhr.responseText;
  	}
};
```

- **onreadystatechange 存储函数**,每当 **readyState** 属性**改变**时,就会**调用该函数**

* **readyState**存有**XMLHttpRequest** 的状态
  - 0 **请求未初始化**
  - 1 **服务器连接已建立**
  - 2 **请求已接收**
  - 3 **请求处理中**
  - 4 **请求已完成,且响应已就绪**

- **status**
  - 200 **OK**
  - 404 **未找到页面**

## 网络请求

### POST 请求

- **从指定的资源请求数据**
- **处理敏感数据时使用 (所传数据不显示在url上)**
- **有长度限制**

#### 请求类型 `Content-type`

- **`application/x-www-form-urlencoded` form表单默认的数据格式**

```html
name=name&age=11
```

- **`application/json` json格式的参数**

```json
{
    "name": "value"
}
```

- **`multipart/form-data` 文本和文件类型**

### GET 请求

- **向指定的资源提交要被处理的数据**

- **可被缓存**

- **保留在浏览器历史记录中**

- **可被收藏为书签**

- **不应在处理敏感数据时使用 (所传数据显示在url上)**

- **有长度限制 (最大长度是 2048 个字符)**

- **只应当用于取回数据**

## 前端工具

1. **Moment. js** 时间格式化工具 [文档链接](http://momentjs.cn/)
2. **Lodash Js** 原生库,提高开发者效率 [文档链接](https://www.lodashjs.com/)
3. **Underscore.js** 提供了函数式编程的方法 [文档链接](https://underscorejs.net/)
4. 前端面试题 [文档链接](http://caibaojian.com/interview-map/)

## 前端框架

### React

**官方文档:  https://zh-hans.reactjs.org/**

**React UI框架**

- **Ant Design**   [文档链接](https://ant.design/index-cn)
- **Antv(数据可视化)**    [文档链接](https://antv.vision/zh)
- **Material-UI**    [文档链接](https://material-ui.com/getting-started/usage/)
- **Element React**    [文档链接](https://elemefe.github.io/element-react/#/zh-CN/quick-start)
- **Semantic UI**    [文档链接](https://semantic-ui.com/)
- **Ant Design Mobile(移动端)**    [文档链接](https://mobile.ant.design/zh)
- **React Bootstrap**    [文档链接](https://react-bootstrap.github.io/)
- **React Desktop**    [文档链接](https://reactdesktop.js.org/)
- **React Native(移动端)**    [文档链接](https://reactnative.dev/)
- **React Native Elements(移动端)**    [文档链接](https://reactnativeelements.com/)

### Vue

**官方文档:  https://cn.vuejs.org/**

**Vue UI框架**

- **Element**    [文档链接](https://element.eleme.cn/#/zh-CN/component/installation)
- **iView**    [文档链接](https://iview.github.io/docs/guide/introduce)
- **Vuetify**    [文档链接](https://vuetifyjs.com/zh-Hans/)
- **Quasar**    [文档链接](https://quasar.dev/)
- **Ant Design of Vue**    [文档链接](https://antdv.com/docs/vue/introduce-cn/)
- **Vant(移动端)**    [文档链接](https://vant-contrib.gitee.io/vant/#/zh-CN/)
- **Mint UI(移动端)**    [文档链接](http://mint-ui.github.io/#!/zh-cn)
- **vux(移动端)**    [文档链接](https://doc.vux.li/zh-CN/)
- **uniapp(移动端)**    [文档链接](https://uniapp.dcloud.io/)

### 其他

- **Flutter(移动端)**    [文档链接](https://reactnative.dev/)
- **Ionic(移动端)**    [文档链接](https://ionicframework.com/)
- **Electron(桌面端)**     [文档链接](https://www.electronjs.org/))

## 服务端渲染(SSR)

**将组件或页面通过服务器生成html字符串，再发送到浏览器，最后将静态标记"混合"为客户端上完全交互的应用程序**

### 优势

1. **更利于SEO**

**不同爬虫工作原理类似，只会爬取源码，不会执行网站的任何脚本。使用了React或者其它MVVM框架之后，页面大多数DOM元素都是在客户端根据js动态生成，可供爬虫抓取分析的内容大大减少。另外，浏览器爬虫不会等待我们的数据完成之后再去抓取我们的页面数据。服务端渲染返回给客户端的是已经获取了异步数据并执行JavaScript脚本的最终HTML，网络爬中就可以抓取到完整页面的信息。**

2. **更利于首屏渲染**

**首屏的渲染是node发送过来的html字符串，并不依赖于js文件了，这就会使用户更快的看到页面的内容。尤其是针对大型单页应用，打包后文件体积比较大，普通客户端渲染加载所有所需文件时间较长，首页就会有一个很长的白屏等待时间。**

### 局限

1. **服务端压力较大**

**本来是通过客户端完成渲染，现在统一到服务端node服务去做。尤其是高并发访问的情况，会大量占用服务端CPU资源**

2. **开发条件受限**

**在服务端渲染中，只会执行到 `componentDidMount` 之前的生命周期钩子，因此项目引用的第三方的库也不可用其它生命周期钩子，这对引用库的选择产生了很大的限制**

